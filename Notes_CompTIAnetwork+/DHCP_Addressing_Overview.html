<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>DHCP Addressing Overview</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
  
    <script type="text/javascript">
        function in_frame () { try { return window.self !== window.top; } catch (e) { return true; } }
        if (!in_frame()) {
            var page = location.pathname.substring(location.pathname.lastIndexOf("/") + 1);
            window.location = 'index.html#' + page;
        }
    </script>
</head>
<body><div class="page"><h1 class="title">DHCP Addressing Overview</h1><br/>DHCP<br />- IPv4 address configuration used to be manual<br />   → IP address, subnet mask, gateway, DNS servers, NTP servers, etc.<br />- Ocotber 1993 - The bootstrap protocol<br />   → BOOTP<br />- BOOTP didn't configure automatically define everything<br />   → some manual configurations were still required<br />   → BOOTP also didn't know when an IP address might be available again<br />- Dynamic Host Configuration Protocol<br />   → Initially released in 1997, updated through the years<br />   → Provides automatic address / IP configuration for almost all devices<br /><br />Step1: Discovery<br />- Sam wants an IP address<br />- DHCP Discover sent from SAM (0.0.0.0:udp/68) to 255.255.255.255:udp/67<br />- stops at Router 1<br /><br />           DHCP server .99<br />                  |                                   g0/0             s0/3/1     subnet 172.16.1.0/24               s0/3/1          g0/1           Subnet 10.10.30.0/24<br />Sam  ---- Switch 1 -----------------------------  Router1 ----------------------------------------------------------------------- Router 2 ------------------ Switch 2 --------------------------------------- Jack<br />.??     subnet 10.10.10.0/24       .99              .2                                                                 .1              .1                                                                           .??<br /><br />Step 2: Offer<br />- DHCP offer sent from DHCP server (10.10.10.00:udp/67) to 255.255.255.255:udp/68<br />- IP address offer sent by broadcast to all devices on subnet<br />- broadcast stopped by router, but Sam receives the offer<br /><br />Step 3: Request<br />- DHCP Request sent from Sam (0.0.0.0:udp/68) to 255.255.255.255:udp/67<br />- Possible that Sam receives multiple requests, picks one and sends the request<br /><br /><br />Step 4: Acknowledgement<br />- DHCP Acknowledgement sent from DHCP Server (10.10.10.99:udp/67) to 255.255.255.255:udp/68<br />- IP address assigned to Sam, Sam can configure IP address<br /><br />Managing DHCP in the enterprise<br />- Limited Communication range<br />   → Uses the IPv4 broadcast domain<br />   → Stops at router<br />- Multiple servers needed for redundancy<br />   → Across different locations<br />- Scalability is always an issue<br />   → May not want (or need) to manage DHCP servers at every remote location<br />- You're going to need a little help<br />   → Send DHCP request across broadcast domains<br />   → can configure DHCP relay/IP helper - convert broadcast to a unicast to send to DHCP server<br /><br />DHCP relay<br /><br />                                                                                                                                                                          DHCP Relay/IP Helper: DHCP Server is at 10.10.10.99<br />                          DHCP server .99                                                                                                                                      |<br />                                         |                                   g0/0             s0/3/1     subnet 172.16.1.0/24               s0/3/1            g0/1           Subnet 10.10.30.0/24<br />Sam  --------------------------- Switch 1 -----------------------------  Router1 ----------------------------------------------------------------------- Router 2 ------------------ Switch 2 --------------------------------------- Jack<br />10.10.10.42             subnet 10.10.10.0/24            .99              .2                                                                 .1              .1                                                                     .??<br /><br />Discover with DHCP relay<br />- DHCP Disccover sent from Jack (0.0.0.0:udp/68) to 255.255.255.255:udp/67<br />- DHCP relay changes the source IP address to 10.10.30.1:udp/68 and the destination address to 10.10.10.99:udp/67<br /><br />Offer with DHCP relay<br />- DHCP offer sent from DHCP server (10.10.10.99:udp/67) to 10.10.30.1:udp/68<br />- Router with ip helper-address changes the destination IP address to 255.255.255.255<br /><br /><br />IP Adress Management (IPAM)<br />- manage IP addressing<br />   → Plan, track, configure DHCP<br />- Report on IP address usage<br />   → Time of day, user-to-IP mapping<br />- Control DHCP reservations<br />   → Identify problems and shortages<br />- Manage IPv4 and IPv6<br />   → One console<br /><br /></div></body></html>