<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Switch Port Protection</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
  
    <script type="text/javascript">
        function in_frame () { try { return window.self !== window.top; } catch (e) { return true; } }
        if (!in_frame()) {
            var page = location.pathname.substring(location.pathname.lastIndexOf("/") + 1);
            window.location = 'index.html#' + page;
        }
    </script>
</head>
<body><div class="page"><h1 class="title">Switch Port Protection</h1><br/>Loop protection<br />- Connect two switches to each other<br />   → they'll send traffic back and forth forever<br />   → there's no “counting” mechanism at the MAC layer<br />- this is an easy way to bring down a network<br />   → and somewhat difficult to troubleshoot<br />   → relatively easy to resolve<br />- Spanning Tree Protocol<br />   → IEEE standard 802.1D to prevent loops in bridged (switched) networks (1990)<br />   → Created by Radia Perlman<br />   → Used practically everywhere<br /><br />Spanning Tree Protocol<br />- one root switch<br />- RT -  each other switch has a root port, closest to the root switch<br />- DP - designated port - other interfaces that allow traffic to pass through<br />- BP - blocked port - disabled ports (enabling would cause a loop)<br />- if connection is severed, will reconfigure the network to a working state<br /><br />                          Bridge 1<br />                DP        (Root)      DP<br />                RP                       RP<br />                Bridge 6 DP         BP Bridge 21<br />         <br />BPDU guard<br />- Spanning tree takes time to determine if a switch port should forward frames (20-30 seconds)<br />   → Bypass the listening and learning states<br />   → Cisco calls this PortFast<br />- BPDU (Bridge Protocol Data Unit)<br />   → The spanning tree control protocol<br />- If a BPDU frame is seen on a PortFase configured interface (i.e., a workstation), shut down the interface<br />   → this shouldn't happen<br />   → workstations don't send BPDUs<br /><br />Root guard<br />- spanning tree determines the root bridge<br />   → you can set the root bridge priority to 0, but that doesn't always guarantee the root<br />   → if more than 0 have priority 0, the lowest MAC address breaks the tie<br />- Root guard allows you to pick the root<br />   → Cisco feature<br />   → Prevents a rogue root bridge<br />- If your root bridge receives a superior STP BPDU on a root guard port, port guard changes the interface status to “root-inconsistent” (listening)<br />   → this effectively disables the interface to the rogue root<br /><br />Flood guard<br />- configure a maximum number of source MAC addresses on an interface<br />   → you decide how many is too many<br />   → you can also configure specific MAC addresses<br />- the switch monitors the number of unique MAC addresses<br />   → maintains a list of every source MAC address<br />- once you exceed the max., port security activates<br />   → interface is usually disabled by default<br /><br />DHCP snooping<br />- IP tracking on a layer 2 device (switch)<br />   → the switch is a DHCP firewall<br />   → Trusted: Routers, switches, DHCP servers<br />   → Untrusted: Other computers, unofficial DHCP servers<br />- switch watches for DHCP conversations<br />   → adds a list of untrusted devices to a table<br />- Filters invalid IP and DHCP information<br />   → Static IP addresses<br />   → devices acting as DHCP servers<br />   → other invalid traffic patterns<br />            </div></body></html>