<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Network Service Troubleshooting</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
  
    <script type="text/javascript">
        function in_frame () { try { return window.self !== window.top; } catch (e) { return true; } }
        if (!in_frame()) {
            var page = location.pathname.substring(location.pathname.lastIndexOf("/") + 1);
            window.location = 'index.html#' + page;
        }
    </script>
</head>
<body><div class="page"><h1 class="title">Network Service Troubleshooting</h1><br/>Names not resolving<br />- web browsing doesn't work<br />- pinging the IP address works<br />   → there isn't a communication problem<br />- applications aren't communicating<br />   → they often use names and not IP addresses<br /><br />Troubleshooting DNS issues<br />- check your IP configuration<br />   → is the DNS IP address correct?<br />- use nslookup or dig to test<br />   → does resolution work?<br />- try a different DNS server<br />   → Google is 8.8.8.8 and 8.8.4.4<br />   → Quad9 is 9.9.9.9<br /><br />IP configuration issues<br />- communicate to local IP addresses<br />   → but not outside subnets<br />- No IP communication<br />   → local or remote<br />- communicate to some IP addresses<br />   → but not others<br /><br />Troubleshooting IP configurations<br />- check your documentation<br />   → IP address, subnet mask, gateway<br />- Monitor the traffic<br />   → examine local broadcasts<br />   → difficult to determine subnet mask<br />- Check devices around you<br />   → confirm your subnet mask and gateway<br />- traceroute and ping<br />   → the issue might be your infrastructure<br />   → ping local IP, default gateway, and outside address<br /><br />Duplicate IP addresses<br />- static address assignments<br />   → must be very organized<br />- DHCP isn't a panacea<br />   → Static IP addressing<br />   → Multiple DHCP servers overlap<br />   → Rogue DHCP servers<br />- Intermittent connectivity<br />   → two addresses “fight” with each other<br />- Blocked by the OS<br />   → checks when it starts<br /><br />Troubleshooting duplicate IP addresses<br />- check your IP addressing<br />   → did you misconfigure?<br />- ping an IP address before static addressing<br />   → does it respond?<br />- determine the IP addresses<br />   → ping the IP address, check your ARP table<br />   → find the MAC address in your switch MAC table<br />- capture the DHCP process<br />   → What DHCP servers are responding?<br /><br />Duplicate MAC addresses<br />- not a common occurrence<br />   → MAC addresses are designed to be unique<br />   → may be a man-in-the-middle attempt<br />- mistakes can happen<br />   → locally administered MAC addresses<br />   → manufacturing error<br />- intermittent connectivity <br />   → confirm with a packet capture, should see ARP connection<br />- use the ARP command from another computer <br />   → confirm the MAC matches the IP<br /><br />Expired IP address<br />- a DHCP address should renew well before the lease expires<br />   → the DHCP server(s) could be down<br />- client gives up IP address at the end of the lease<br />   → APIPA address is assigned <br />   → check in occasionally for a DHCP server<br />- look for an APIPA assigned address <br />   → 169.254.*.*<br />- check the status of your DHCP server<br /><br />Rogue DHCP server<br />- IP addresses assigned by a non-authorized server<br />   → there's no inherent security in DHCP<br />- client is assigned an invalid or duplicate address<br />   → intermittent connectivity, no connectivity<br />- disable rogue DHCP communication<br />   → enable DHCP snooping on your switch<br />   → authorized DHCP servers in Active Directory<br />- disable the rogue<br />   → release current IP assignment<br />   → renew the IP leases<br /><br />Untrusted SSL certificate<br />- browsers trust signatures from certain CAs<br />   → a certificate was signed by a CA that's not in our list<br />- error message on the browser<br />   → Certificate Authority Invalid<br />- check the certificate details<br />   → look for the issuing CA<br />   → compare to the CA list on your computer<br />- if it's an internal server, it may be internally signed<br />   → add your internal CA certificate to the list<br /><br />Incorrect time<br />- Some cryptography is very time sensitive<br />   → Active Directory requires clocks set within five minutes of each other<br />- Kerberos communication uses a timestamp<br />   → if the ticket shown during authentication is too old, it's invalid<br />- client can't login<br />   → check the timestamp of the client and the server<br />- configure NTP on all devices<br />   → automate the clock setting<br /><br />Exhausted DHCP scope<br />- client received an APIPA address<br />   → local subnet communication only<br />- check the DHCP server<br />   → add more IP addresses if possible<br />- IP address management (IPAM) may help<br />   → monitor and report on IP address shortages<br />- Lower the lease time<br />   → especially if there are a lof of transient users<br /><br />Blocked TCP/UDP ports<br />- application not working<br />   → slowdowns with other applications<br />- firewall or ACL configuration<br />   → security choke points<br />- confirm with a packet capture<br />   → no response to request<br />- run a TCP- or UDP-based traceroute tool<br />   → see how far your packet can go<br /><br />Incorrect host-based firewall settings<br />- applications not working<br />   → based on the application in use and not necessarily the protocol and port<br />- check the host-based firewall settings<br />   → accessibility may be limited to an administrator<br />   → managed from a central console<br />- take a packet capture<br />   → the traffic may never make it to the network<br />   → dropped by the operating system<br /><br />Incorrect ACL setting<br />- only certain IP addresses accessible<br />   → or none<br />- Access Control Lists<br />   → IP address, port numbers, and other parameters<br />   → can allow or deny traffic by filtering packets<br />- confirm with packet captures and TCP/UDP traceroutes<br />   → Identify the point of no return<br /><br /><br />Unresponsive service<br />- no response to an application request<br />   → no answer<br />- do you have the right port number?<br />   → and protocol (TCP/UDP)?<br />- confirm connectivity<br />   → ping, traceroute<br />- is the application still working?<br />   → telnet to the port number and see if it responds<br /><br />Hardware failure<br />- no response<br />   → application doesn't respond<br />- confirm connectivity<br />   → without a pin, you're not going to connect<br />- run a traceroute<br />   → see if you're being filtered<br />   → should make it to the other side<br />- check the server<br />   → lights? fire?<br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /></div></body></html>