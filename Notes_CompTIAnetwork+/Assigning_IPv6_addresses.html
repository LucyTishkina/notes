<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Assigning IPv6 addresses</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
  
    <script type="text/javascript">
        function in_frame () { try { return window.self !== window.top; } catch (e) { return true; } }
        if (!in_frame()) {
            var page = location.pathname.substring(location.pathname.lastIndexOf("/") + 1);
            window.location = 'index.html#' + page;
        }
    </script>
</head>
<body><div class="page"><h1 class="title">Assigning IPv6 addresses</h1><br/>Stateful DHCPv6<br />- very similar process to DHCPv4<br />   → udp/546 (client) and udp/547 (server)<br />- DHCPv6 Solicit to look for DHCP server<br />- DHCPv6 Advertise from servers<br />- DCHPv6 Request to a server<br />- DHCPv6 Reply from server<br /><br />Configuring IPv6 with a modified EUI-64<br />- Static addressing can be useful<br />   → The IP address never changes<br />- What other address never changes?<br />   → MAC address<br />- Extended Unique Identifier (64-bit)<br />- Combined a 64-bit IPv6 prefix and the MAC address<br />   → Wait, the MAC address is only 48 bits long!<br />- You're going to need some extra bits<br />   → And a minor change to the MAC address<br /><br />The MAC address <br />- Ethernet Media Access Control address<br />   → the “physical” address of a network adapter<br />- EUI-48 address<br />   → Extended Unique Identifier (48-bit)<br />- two parts:<br />   → Organizationally Unique Identifier (OUI) (the manufacturer)<br />   → Network Interface Controller-Specific (the serial number)<br /><br />Converting EUI-48 to EUI-64<br />- Split the MAC<br />   → two 3-byte (24-bit) halves<br />- Put FFFE in the middle<br />   → the missing 16 bits<br />- Invert the seventh bit<br />   → changes the address from globally unique/universal<br />   → turns the burned-in address (BIA) into a locally administered address<br />   → this is the U/L bit (universal/local)<br /><br />Modifying the MAC<br />8c (universal)<br />10001100<br /><br />10001110<br />8e (local)<br /><br />Building the IPv6 address<br />- the 64-bit IPv6 subnet prefix<br />- the EUI-64 address<br /><br />2600:dddd:1111:0001:<span style="color:#1e90ff;">8e2d:</span><span style="color:#1e90ff;">aa</span><span style="color:#ffff00;">ff</span><span style="color:#ffff00;">:</span><span style="color:#ffff00;">fe</span><span style="color:#ffa500;">4b</span><span style="color:#ffa500;">:08a7</span><br /><br />64-bit IPv6 subnet prefix + <span style="color:#1e90ff;">3-byte MAC</span> + <span style="color:#ffff00;">FFFE</span> + <span style="color:#ffa500;">3-byte MAC</span><br /><br />Flipping the 7th bit<br />- Quickly convert the MAC address<br />   → create a chart<br />- Counter from 0 to F in hex<br />- Two columns, groups of 4<br /><br />0  1<br />2  3<br /><br />4  5<br />6  7<br /><br />8  9<br />A  B<br /><br />C  D<br />E  F<br /><br />- Quickly convert the second character of the first hex byte<br />   → change it to the other value<br /><br />Quick conversions<br /><br />MAC Adresses              EUI-64<br />8c:2d:aa:4b:98:a7   8e2d:aa:ff:fe4b:98a7<br />18:b4:30:10:7b:61  1ab4:30ff:fe10:7b61<br />a0:21:b7:63:40:3f   a221:b7ff:fe63:403f<br />34:62:88:dc:85:2f   3662:88ff:fedc:852f<br /></div></body></html>